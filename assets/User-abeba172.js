var en=Object.defineProperty;var tn=(t,e,r)=>e in t?en(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ye=(t,e,r)=>(tn(t,typeof e!="symbol"?e+"":e,r),r);import{b as V,c as se,f as P,i as Xe,t as Te,_ as Et,e as Kt,u as be,g as Ae,r as Ke,j as St,h as rn,k as br,n as Nt,F as vr,l as wr,m as nn,p as Er,q as sn}from"./index-a5e2ac37.js";import{g as on}from"./_commonjsHelpers-725317a4.js";const an="/pegasus/assets/404-error-74c25dd8.png",un={class:"min-h-screen flex flex-col"},ln={class:"px-10 flex flex-col justify-center items-center flex-grow"},cn=P("img",{src:an,alt:"404 Error",class:"w-52"},null,-1),fn={class:"text-2xl text-center"},hn=P("br",null,null,-1),pn=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),dn=P("div",{class:"text-xs ml-auto mr-2 mb-1 text-right"},[P("a",{href:"https://www.flaticon.com/free-icons/404-error",title:"404 error icons"},"404 error icons created by Ghozi Muhtarom - Flaticon")],-1),_n={__name:"UserNotFound",props:{username:String},setup(t){return(e,r)=>(V(),se("div",un,[P("div",ln,[cn,P("p",fn,[Xe(" Sorry, but we could not find the user "),P("i",null,Te(t.username),1),Xe("."),hn,Xe("Perhaps you have mistyped? ")]),P("button",{class:"btn btn-outline btn-primary m-6 gap-3",onClick:r[0]||(r[0]=n=>e.$router.push("/"))},[pn,Xe(" Go back home ")])]),dn]))}},mn={},gn={class:"px-10 flex flex-col justify-center items-center min-h-screen"},yn=P("progress",{class:"progress progress-primary w-1/4"},null,-1),bn=[yn];function vn(t,e){return V(),se("div",gn,bn)}const wn=Et(mn,[["render",vn]]),qr="/pegasus/assets/standard-avatar-022619a5.png",En=["href"],Sn={class:"stats shadow-2xl"},Pn={class:"stat"},Tn={class:"stat-figure"},An={class:"avatar"},Cn={class:"w-24 rounded-full"},kn=["src"],On={class:"stat-value"},xn={class:"stat-title text-right"},Rn={class:"stat"},In=P("div",{class:"stat-title"},"Followers",-1),qn={class:"stat-value text-right"},Ln={class:"stat"},Mn={__name:"UserInfo",props:{data:Object},setup(t){return(e,r)=>{const n=Kt("flag");return V(),se("a",{href:t.data.url,target:"_blank"},[P("div",Sn,[P("div",Pn,[P("div",Tn,[P("div",An,[P("div",Cn,[P("img",{src:t.data.avatar??be(qr)},null,8,kn)])])]),P("div",On,Te(t.data.name??t.data.username),1),P("div",xn,Te(t.data.username),1)]),P("div",Rn,[In,P("div",qn,Te(t.data.followers),1)]),P("div",Ln,[Ae(n,{iso:t.data.country.split("/").pop(),class:"stat-figure rounded-xl text-6xl"},null,8,["iso"])])])],8,En)}}};function Nn(t){return t==="string"?"":t==="object"?{}:t==="function"?()=>null:t==="array"?[]:null}function $n(t,e){const r=[];for(let n=0;n<e.length;n+=1)if(e[n]!==void 0){for(;r.length<t.length&&(typeof e[n]!==t[r.length]||e[n]instanceof Array)&&(!(e[n]instanceof Array)||e[n]instanceof Array&&t[r.length]!=="array");)r.push(Nn(t[r.length]));r.length<t.length&&r.push(e[n])}return r}var ke={sortParameters:$n};const{sortParameters:Dn}=ke;function jn(){this._requests=[],this._running=!1}function Un(t,e,r,n,s,i){if(!t||typeof t!="function")throw Error("dispatch requires request function");if(!e||typeof e!="function")throw Error("dispatch requires callback function");const[o,u,p,_]=Dn(["array","object","array","number"],[r,n,s,i]),T={method:t,callback:e,parameters:o,options:u,priority:_||1,callbackParameters:p||[]};this.enqueue(T)}function Hn(t){let e=!1;for(let r=0;r<this._requests.length;r+=1)if(this._requests[r].priority>t.priority){this._requests.splice(r,0,t),e=!0;break}e||this._requests.push(t),this._running||this.startRequests()}function Qn(){return this._requests.length===0?null:this._requests.shift()}function Kn(){this._requests=[]}async function Bn(){for(;this._requests.length>0;){this._running||(this._running=!0);const t=this.dequeue(),{method:e,callback:r}=t;let n=null;const s=await e(...t.parameters,t.options).catch(i=>n=i);r(s,n,...t.callbackParameters)}this._running=!1}var Fn={queueSetup:jn,dispatch:Un,enqueue:Hn,dequeue:Qn,clearQueue:Kn,startRequests:Bn},Oe={},Lr={};const W=function(t){if(!t)throw new Error("No builder supplied to constructor");this.host=t.host,this.port=t.port,this.scheme=t.scheme,this.queryParameters=t.queryParameters,this.bodyParameters=t.bodyParameters,this.headers=t.headers,this.path=t.path};W.prototype._getter=function(t){return function(){return this[t]}};W.prototype.getHost=W.prototype._getter("host");W.prototype.getPort=W.prototype._getter("port");W.prototype.getScheme=W.prototype._getter("scheme");W.prototype.getPath=W.prototype._getter("path");W.prototype.getQueryParameters=W.prototype._getter("queryParameters");W.prototype.getBodyParameters=W.prototype._getter("bodyParameters");W.prototype.getHeaders=W.prototype._getter("headers");W.prototype.getURI=function(){if(!this.scheme||!this.host||!this.port)throw new Error("Missing components necessary to construct URI");let t=`${this.scheme}://${this.host}`;return(this.scheme==="http"&&this.port!==80||this.scheme==="https"&&this.port!==443)&&(t+=`:${this.port}`),this.path&&(t+=this.path),t};W.prototype.getURL=function(){const t=this.getURI();return this.getQueryParameters()?t+this.getQueryParameterString(this.getQueryParameters()):t};W.prototype.getQueryParameterString=function(){const t=this.getQueryParameters();return t?`?${Object.keys(t).filter(e=>t[e]!==void 0).map(e=>`${e}=${t[e]}`).join("&")}`:""};W.prototype.execute=function(t,e){if(e)return t(this,e),null;const r=this;return new Promise((n,s)=>{t(r,(i,o)=>{i?s(i):n(o)})})};const Y=function(){};Y.prototype._setter=function(t){return function(e){return this[t]=e,this}};Y.prototype.withHost=Y.prototype._setter("host");Y.prototype.withPort=Y.prototype._setter("port");Y.prototype.withScheme=Y.prototype._setter("scheme");Y.prototype.withPath=Y.prototype._setter("path");Y.prototype._assigner=function(t){return function(){for(let e=0;e<arguments.length;e+=1)this[t]=this._assign(this[t],arguments[e]);return this}};Y.prototype.withQueryParameters=Y.prototype._assigner("queryParameters");Y.prototype.withBodyParameters=Y.prototype._assigner("bodyParameters");Y.prototype.withHeaders=Y.prototype._assigner("headers");Y.prototype._assign=function(t,e){return e&&Array.isArray(e)?e:e&&Object.keys(e).length>0?Object.assign(t||{},e):t};Y.prototype.build=function(){return new W(this)};Lr.builder=function(){return new Y};const Gn=Lr,zn="api.chess.com",Wn=443,Jn="https";Oe.builder=function(){return Gn.builder().withHost(zn).withPort(Wn).withScheme(Jn)};var Bt={exports:{}},Mr={exports:{}};(function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var s in e.prototype)n[s]=e.prototype[s];return n}e.prototype.on=e.prototype.addEventListener=function(n,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(s),this},e.prototype.once=function(n,s){function i(){this.off(n,i),s.apply(this,arguments)}return i.fn=s,this.on(n,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+n];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,u=0;u<i.length;u++)if(o=i[u],o===s||o.fn===s){i.splice(u,1);break}return i.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),i=this._callbacks["$"+n],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(i){i=i.slice(0);for(var o=0,u=i.length;o<u;++o)i[o].apply(this,s)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(Mr);var Xn=Mr.exports,Vn=ot;ot.default=ot;ot.stable=Dr;ot.stableStringify=Dr;var bt="[...]",Nr="[Circular]",ze=[],Be=[];function $r(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ot(t,e,r,n){typeof n>"u"&&(n=$r()),Ft(t,"",0,[],void 0,0,n);var s;try{Be.length===0?s=JSON.stringify(t,e,r):s=JSON.stringify(t,jr(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ze.length!==0;){var i=ze.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}}return s}function Ve(t,e,r,n){var s=Object.getOwnPropertyDescriptor(n,r);s.get!==void 0?s.configurable?(Object.defineProperty(n,r,{value:t}),ze.push([n,r,e,s])):Be.push([e,r,t]):(n[r]=t,ze.push([n,r,e]))}function Ft(t,e,r,n,s,i,o){i+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<n.length;u++)if(n[u]===t){Ve(Nr,t,e,s);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Ve(bt,t,e,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ve(bt,t,e,s);return}if(n.push(t),Array.isArray(t))for(u=0;u<t.length;u++)Ft(t[u],u,u,n,t,i,o);else{var p=Object.keys(t);for(u=0;u<p.length;u++){var _=p[u];Ft(t[_],_,u,n,t,i,o)}}n.pop()}}function Yn(t,e){return t<e?-1:t>e?1:0}function Dr(t,e,r,n){typeof n>"u"&&(n=$r());var s=Gt(t,"",0,[],void 0,0,n)||t,i;try{Be.length===0?i=JSON.stringify(s,e,r):i=JSON.stringify(s,jr(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ze.length!==0;){var o=ze.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function Gt(t,e,r,n,s,i,o){i+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<n.length;u++)if(n[u]===t){Ve(Nr,t,e,s);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){Ve(bt,t,e,s);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Ve(bt,t,e,s);return}if(n.push(t),Array.isArray(t))for(u=0;u<t.length;u++)Gt(t[u],u,u,n,t,i,o);else{var p={},_=Object.keys(t).sort(Yn);for(u=0;u<_.length;u++){var T=_[u];Gt(t[T],T,u,n,t,i,o),p[T]=t[T]}if(typeof s<"u")ze.push([s,e,t]),s[e]=p;else return p}n.pop()}}function jr(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Be.length>0)for(var n=0;n<Be.length;n++){var s=Be[n];if(s[1]===e&&s[0]===r){r=s[2],Be.splice(n,1);break}}return t.call(this,e,r)}}function mt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mt=function(r){return typeof r}:mt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mt(t)}function Zn(t){return t!==null&&mt(t)==="object"}var Ur=Zn;function gt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gt=function(r){return typeof r}:gt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gt(t)}var vt=Ur,es=M;function M(t){if(t)return ts(t)}function ts(t){for(var e in M.prototype)Object.prototype.hasOwnProperty.call(M.prototype,e)&&(t[e]=M.prototype[e]);return t}M.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};M.prototype.parse=function(t){return this._parser=t,this};M.prototype.responseType=function(t){return this._responseType=t,this};M.prototype.serialize=function(t){return this._serializer=t,this};M.prototype.timeout=function(t){if(!t||gt(t)!=="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};M.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var rs=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];M.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(n){console.error(n)}return!!(e&&e.status&&e.status>=500&&e.status!==501||t&&(t.code&&rs.includes(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};M.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};M.prototype.then=function(t,e){var r=this;if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(s,i){n.on("abort",function(){if(!(r._maxRetries&&r._maxRetries>r._retries)){if(r.timedout&&r.timedoutError){i(r.timedoutError);return}var o=new Error("Aborted");o.code="ABORTED",o.status=r.status,o.method=r.method,o.url=r.url,i(o)}}),n.end(function(o,u){o?i(o):s(u)})})}return this._fullfilledPromise.then(t,e)};M.prototype.catch=function(t){return this.then(void 0,t)};M.prototype.use=function(t){return t(this),this};M.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};M.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};M.prototype.get=function(t){return this._header[t.toLowerCase()]};M.prototype.getHeader=M.prototype.get;M.prototype.set=function(t,e){if(vt(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};M.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};M.prototype.field=function(t,e){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(vt(t)){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),this._getFormData().append(t,e),this};M.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)};M.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic ".concat(n("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t));break}return this};M.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};M.prototype.redirects=function(t){return this._maxRedirects=t,this};M.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};M.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};M.prototype.send=function(t){var e=vt(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&vt(this._data))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this._data[n]=t[n]);else typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(t):t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(r||this.type("json"),this)};M.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};M.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};M.prototype._appendQueryString=function(){console.warn("Unsupported")};M.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error("".concat(t+e,"ms exceeded"));n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)}};M.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var ut={};ut.type=function(t){return t.split(/ *; */).shift()};ut.params=function(t){return t.split(/ *; */).reduce(function(e,r){var n=r.split(/ *= */),s=n.shift(),i=n.shift();return s&&i&&(e[s]=i),e},{})};ut.parseLinks=function(t){return t.split(/ *, */).reduce(function(e,r){var n=r.split(/ *; */),s=n[0].slice(1,-1),i=n[1].split(/ *= */)[1].slice(1,-1);return e[i]=s,e},{})};ut.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t};var $t=ut,ns=Fe;function Fe(t){if(t)return ss(t)}function ss(t){for(var e in Fe.prototype)Object.prototype.hasOwnProperty.call(Fe.prototype,e)&&(t[e]=Fe.prototype[e]);return t}Fe.prototype.get=function(t){return this.header[t.toLowerCase()]};Fe.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=$t.type(e);var r=$t.params(e);for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=$t.parseLinks(t.link))}catch{}};Fe.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422};function is(t){return ls(t)||us(t)||as(t)||os()}function os(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function as(t,e){if(t){if(typeof t=="string")return zt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zt(t,e)}}function us(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ls(t){if(Array.isArray(t))return zt(t)}function zt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vt(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(t){Vt.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}});Vt.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,is(e.args))})};var cs=Vt;(function(t,e){function r(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(m){return typeof m}:r=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},r(c)}var n;typeof window<"u"?n=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),n=void 0):n=self;var s=Xn,i=Vn,o=es,u=Ur,p=ns,_=cs;function T(){}t.exports=function(c,d){return typeof d=="function"?new e.Request("GET",c).end(d):arguments.length===1?new e.Request("GET",c):new e.Request(c,d)},e=t.exports;var E=e;e.Request=S,E.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||n.location.protocol!=="file:"||!n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch{}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{}throw new Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(c){return c.trim()}:function(c){return c.replace(/(^\s*|\s*$)/g,"")};function D(c){if(!u(c))return c;var d=[];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&A(d,m,c[m]);return d.join("&")}function A(c,d,m){if(m!==void 0){if(m===null){c.push(encodeURI(d));return}if(Array.isArray(m))m.forEach(function(I){A(c,d,I)});else if(u(m))for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&A(c,"".concat(d,"[").concat(v,"]"),m[v]);else c.push(encodeURI(d)+"="+encodeURIComponent(m))}}E.serializeObject=D;function R(c){for(var d={},m=c.split("&"),v,I,C=0,B=m.length;C<B;++C)v=m[C],I=v.indexOf("="),I===-1?d[decodeURIComponent(v)]="":d[decodeURIComponent(v.slice(0,I))]=decodeURIComponent(v.slice(I+1));return d}E.parseString=R,E.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},E.serialize={"application/x-www-form-urlencoded":D,"application/json":i},E.parse={"application/x-www-form-urlencoded":R,"application/json":JSON.parse};function j(c){for(var d=c.split(/\r?\n/),m={},v,I,C,B,w=0,H=d.length;w<H;++w)I=d[w],v=I.indexOf(":"),v!==-1&&(C=I.slice(0,v).toLowerCase(),B=b(I.slice(v+1)),m[C]=B);return m}function F(c){return/[/+]json($|[^-\w])/.test(c)}function ce(c){this.req=c,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var d=this.xhr.status;d===1223&&(d=204),this._setStatusProperties(d),this.headers=j(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&c._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}p(ce.prototype),ce.prototype._parseBody=function(c){var d=E.parse[this.type];return this.req._parser?this.req._parser(this,c):(!d&&F(this.type)&&(d=E.parse["application/json"]),d&&c&&(c.length>0||c instanceof Object)?d(c):null)},ce.prototype.toError=function(){var c=this.req,d=c.method,m=c.url,v="cannot ".concat(d," ").concat(m," (").concat(this.status,")"),I=new Error(v);return I.status=this.status,I.method=d,I.url=m,I},E.Response=ce;function S(c,d){var m=this;this._query=this._query||[],this.method=c,this.url=d,this.header={},this._header={},this.on("end",function(){var v=null,I=null;try{I=new ce(m)}catch(B){return v=new Error("Parser is unable to parse the response"),v.parse=!0,v.original=B,m.xhr?(v.rawResponse=typeof m.xhr.responseType>"u"?m.xhr.responseText:m.xhr.response,v.status=m.xhr.status?m.xhr.status:null,v.statusCode=v.status):(v.rawResponse=null,v.status=null),m.callback(v)}m.emit("response",I);var C;try{m._isResponseOK(I)||(C=new Error(I.statusText||I.text||"Unsuccessful HTTP response"))}catch(B){C=B}C?(C.original=v,C.response=I,C.status=I.status,m.callback(C,I)):m.callback(null,I)})}s(S.prototype),o(S.prototype),S.prototype.type=function(c){return this.set("Content-Type",E.types[c]||c),this},S.prototype.accept=function(c){return this.set("Accept",E.types[c]||c),this},S.prototype.auth=function(c,d,m){arguments.length===1&&(d=""),r(d)==="object"&&d!==null&&(m=d,d=""),m||(m={type:typeof btoa=="function"?"basic":"auto"});var v=function(C){if(typeof btoa=="function")return btoa(C);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(c,d,m,v)},S.prototype.query=function(c){return typeof c!="string"&&(c=D(c)),c&&this._query.push(c),this},S.prototype.attach=function(c,d,m){if(d){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(c,d,m||d.name)}return this},S.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},S.prototype.callback=function(c,d){if(this._shouldRetry(c,d))return this._retry();var m=this._callback;this.clearTimeout(),c&&(this._maxRetries&&(c.retries=this._retries-1),this.emit("error",c)),m(c,d)},S.prototype.crossDomainError=function(){var c=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);c.crossDomain=!0,c.status=this.status,c.method=this.method,c.url=this.url,this.callback(c)},S.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},S.prototype.ca=S.prototype.agent,S.prototype.buffer=S.prototype.ca,S.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},S.prototype.pipe=S.prototype.write,S.prototype._isHost=function(c){return c&&r(c)==="object"&&!Array.isArray(c)&&Object.prototype.toString.call(c)!=="[object Object]"},S.prototype.end=function(c){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=c||T,this._finalizeQueryString(),this._end()},S.prototype._setUploadTimeout=function(){var c=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){c._timeoutError("Upload timeout of ",c._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},S.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var c=this;this.xhr=E.getXHR();var d=this.xhr,m=this._formData||this._data;this._setTimeouts(),d.onreadystatechange=function(){var w=d.readyState;if(w>=2&&c._responseTimeoutTimer&&clearTimeout(c._responseTimeoutTimer),w===4){var H;try{H=d.status}catch{H=0}if(!H)return c.timedout||c._aborted?void 0:c.crossDomainError();c.emit("end")}};var v=function(H,U){U.total>0&&(U.percent=U.loaded/U.total*100,U.percent===100&&clearTimeout(c._uploadTimeoutTimer)),U.direction=H,c.emit("progress",U)};if(this.hasListeners("progress"))try{d.addEventListener("progress",v.bind(null,"download")),d.upload&&d.upload.addEventListener("progress",v.bind(null,"upload"))}catch{}d.upload&&this._setUploadTimeout();try{this.username&&this.password?d.open(this.method,this.url,!0,this.username,this.password):d.open(this.method,this.url,!0)}catch(w){return this.callback(w)}if(this._withCredentials&&(d.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof m!="string"&&!this._isHost(m)){var I=this._header["content-type"],C=this._serializer||E.serialize[I?I.split(";")[0]:""];!C&&F(I)&&(C=E.serialize["application/json"]),C&&(m=C(m))}for(var B in this.header)this.header[B]!==null&&Object.prototype.hasOwnProperty.call(this.header,B)&&d.setRequestHeader(B,this.header[B]);this._responseType&&(d.responseType=this._responseType),this.emit("request",this),d.send(typeof m>"u"?null:m)},E.agent=function(){return new _},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(c){_.prototype[c.toLowerCase()]=function(d,m){var v=new E.Request(c,d);return this._setDefaults(v),m&&v.end(m),v}}),_.prototype.del=_.prototype.delete,E.get=function(c,d,m){var v=E("GET",c);return typeof d=="function"&&(m=d,d=null),d&&v.query(d),m&&v.end(m),v},E.head=function(c,d,m){var v=E("HEAD",c);return typeof d=="function"&&(m=d,d=null),d&&v.query(d),m&&v.end(m),v},E.options=function(c,d,m){var v=E("OPTIONS",c);return typeof d=="function"&&(m=d,d=null),d&&v.send(d),m&&v.end(m),v};function Z(c,d,m){var v=E("DELETE",c);return typeof d=="function"&&(m=d,d=null),d&&v.send(d),m&&v.end(m),v}E.del=Z,E.delete=Z,E.patch=function(c,d,m){var v=E("PATCH",c);return typeof d=="function"&&(m=d,d=null),d&&v.send(d),m&&v.end(m),v},E.post=function(c,d,m){var v=E("POST",c);return typeof d=="function"&&(m=d,d=null),d&&v.send(d),m&&v.end(m),v},E.put=function(c,d,m){var v=E("PUT",c);return typeof d=="function"&&(m=d,d=null),d&&v.send(d),m&&v.end(m),v}})(Bt,Bt.exports);var fs=Bt.exports;function Hr(t,e){this.name="WebapiError",this.message=t||"",this.statusCode=e}Hr.prototype=Error.prototype;var Qr=Hr;const lt=fs,dt=Qr,Ce={},Pt=function(t){const e={};return t.getQueryParameters()&&(e.query=t.getQueryParameters()),t.getHeaders()&&t.getHeaders()["Content-Type"]==="application/json"?e.data=JSON.stringify(t.getBodyParameters()):t.getBodyParameters()&&(e.data=t.getBodyParameters()),t.getHeaders()&&(e.headers=t.getHeaders()),e},hs=function(t,e){let r;if(typeof e.error=="object"&&typeof e.error.message=="string")r=new dt(e.error.message,e.error.status);else if(typeof e.error=="string")r=new dt(`${e.error}: ${e.error_description}`);else if(typeof e=="string")try{const n=JSON.parse(e);r=new dt(n.error.message,n.error.status)}catch{}return r||(r=new dt(`${t}: ${JSON.stringify(e)}`)),r};Ce._makeRequest=function(t,e,r,n){const s=t.bind(lt)(r);e.query&&s.query(e.query),e.data&&(!e.headers||e.headers["Content-Type"]!=="application/json")?(s.type("form"),s.send(e.data)):e.data&&s.send(e.data),e.headers&&s.set(e.headers),s.end((i,o)=>{if(i){const u=hs("Request error",{error:i});return n(u)}return n(null,{body:o.body,headers:o.headers,statusCode:o.statusCode})})};Ce.get=function(t,e){const r=Pt(t),n=lt.get;Ce._makeRequest(n,r,t.getURI(),e)};Ce.post=function(t,e){const r=Pt(t),n=lt.post;Ce._makeRequest(n,r,t.getURI(),e)};Ce.del=function(t,e){const r=Pt(t),n=lt.del;Ce._makeRequest(n,r,t.getURI(),e)};Ce.put=function(t,e){const r=Pt(t),n=lt.put;Ce._makeRequest(n,r,t.getURI(),e)};var Re=Ce;const ve=Oe,we=Re,{sortParameters:Ee}=ke;function ps(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function ds(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/stats`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function _s(t,e,r,n){return new Error("This endpoint was removed by Chess.com, please see https://github.com/andyruwruw/chess-web-api/tree/master#getplayeronlineusername-options-callback")}function ms(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/games`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function gs(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/games/to-move`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function ys(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/games/archives`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function bs(t,e,r,n,s,i){const[o,u,p]=Ee(["object","function","object"],[n,s,i]);let _;return typeof r=="number"&&r<10||typeof r=="string"&&r.length===1?_=`0${r}`:_=`${r}`,ve.builder().withPath(`/pub/player/${t}/games/${e}/${_}`).withQueryParameters(o).withHeaders(p).build().execute(we.get,u)}function vs(t,e,r,n,s,i){const[o,u,p]=Ee(["object","function","object"],[n,s,i]);let _;return typeof r=="number"&&r<10||typeof r=="string"&&r.length===1?_=`0${r}`:_=`${r}`,ve.builder().withPath(`/pub/player/${t}/games/${e}/${_}/pgn`).withQueryParameters(o).withHeaders(p).build().execute(we.get,u)}function ws(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/clubs`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function Es(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/matches`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function Ss(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/player/${t}/tournaments`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}function Ps(t,e,r,n){const[s,i,o]=Ee(["object","function","object"],[e,r,n]);return ve.builder().withPath(`/pub/titled/${t}`).withQueryParameters(s).withHeaders(o).build().execute(we.get,i)}var Ts={getPlayer:ps,getPlayerStats:ds,getPlayerOnline:_s,getPlayerCurrentDailyChess:ms,getPlayerToMoveDailyChess:gs,getPlayerMonthlyArchives:ys,getPlayerCompleteMonthlyArchives:bs,getPlayerMultiGamePGN:vs,getPlayerClubs:ws,getPlayerMatches:Es,getPlayerTournaments:Ss,getTitledPlayers:Ps};const Yt=Oe,Zt=Re,{sortParameters:er}=ke;function As(t,e,r,n){const[s,i,o]=er(["object","function","object"],[e,r,n]);return Yt.builder().withPath(`/pub/club/${t}`).withQueryParameters(s).withHeaders(o).build().execute(Zt.get,i)}function Cs(t,e,r,n){const[s,i,o]=er(["object","function","object"],[e,r,n]);return Yt.builder().withPath(`/pub/club/${t}/members`).withQueryParameters(s).withHeaders(o).build().execute(Zt.get,i)}function ks(t,e,r,n){const[s,i,o]=er(["object","function","object"],[e,r,n]);return Yt.builder().withPath(`/pub/club/${t}/matches`).withQueryParameters(s).withHeaders(o).build().execute(Zt.get,i)}var Os={getClub:As,getClubMembers:Cs,getClubMatches:ks};const tr=Oe,rr=Re,{sortParameters:nr}=ke;function xs(t,e,r,n){const[s,i,o]=nr(["object","function","object"],[e,r,n]);return tr.builder().withPath(`/pub/tournament/${t}`).withQueryParameters(s).withHeaders(o).build().execute(rr.get,i)}function Rs(t,e,r,n,s){const[i,o,u]=nr(["object","function","object"],[r,n,s]);return tr.builder().withPath(`/pub/tournament/${t}/${e}`).withQueryParameters(i).withHeaders(u).build().execute(rr.get,o)}function Is(t,e,r,n,s,i){const[o,u,p]=nr(["object","function","object"],[n,s,i]);return tr.builder().withPath(`/pub/tournament/${t}/${e}/${r}`).withQueryParameters(o).withHeaders(p).build().execute(rr.get,u)}var qs={getTournament:xs,getTournamentRound:Rs,getTournamentRoundGroup:Is};const Tt=Oe,At=Re,{sortParameters:Ct}=ke;function Ls(t,e,r,n){const[s,i,o]=Ct(["object","function","object"],[e,r,n]);return Tt.builder().withPath(`/pub/match/${t}`).withQueryParameters(s).withHeaders(o).build().execute(At.get,i)}function Ms(t,e,r,n,s){const[i,o,u]=Ct(["object","function","object"],[r,n,s]);return Tt.builder().withPath(`/pub/match/${t}/${e}`).withQueryParameters(i).withHeaders(u).build().execute(At.get,o)}function Ns(t,e,r,n){const[s,i,o]=Ct(["object","function","object"],[e,r,n]);return Tt.builder().withPath(`/pub/match/live/${t}`).withQueryParameters(s).withHeaders(o).build().execute(At.get,i)}function $s(t,e,r,n,s){const[i,o,u]=Ct(["object","function","object"],[r,n,s]);return Tt.builder().withPath(`/pub/match/live/${t}/${e}`).withQueryParameters(i).withHeaders(u).build().execute(At.get,o)}var Ds={getTeamMatch:Ls,getTeamMatchBoard:Ms,getTeamLiveMatch:Ns,getTeamLiveMatchBoard:$s};const sr=Oe,ir=Re,{sortParameters:or}=ke;function js(t,e,r,n){const[s,i,o]=or(["object","function","object"],[e,r,n]);return sr.builder().withPath(`/pub/country/${t}`).withQueryParameters(s).withHeaders(o).build().execute(ir.get,i)}function Us(t,e,r,n){const[s,i,o]=or(["object","function","object"],[e,r,n]);return sr.builder().withPath(`/pub/country/${t}/players`).withQueryParameters(s).withHeaders(o).build().execute(ir.get,i)}function Hs(t,e,r,n){const[s,i,o]=or(["object","function","object"],[e,r,n]);return sr.builder().withPath(`/pub/country/${t}/clubs`).withQueryParameters(s).withHeaders(o).build().execute(ir.get,i)}var Qs={getCountry:js,getCountryPlayers:Us,getCountryClubs:Hs};const Kr=Oe,Br=Re,{sortParameters:Fr}=ke;function Ks(t,e,r){const[n,s,i]=Fr(["object","function","object"],[t,e,r]);return Kr.builder().withPath("/pub/puzzle").withQueryParameters(n).withHeaders(i).build().execute(Br.get,s)}function Bs(t,e,r){const[n,s,i]=Fr(["object","function","object"],[t,e,r]);return Kr.builder().withPath("/pub/puzzle/random").withQueryParameters(n).withHeaders(i).build().execute(Br.get,s)}var Fs={getDailyPuzzle:Ks,getDailyPuzzleRandom:Bs};const Gs=Oe,zs=Re,{sortParameters:Ws}=ke;function Js(t,e,r){const[n,s,i]=Ws(["object","function","object"],[t,e,r]);return Gs.builder().withPath("/pub/streamers").withQueryParameters(n).withHeaders(i).build().execute(zs.get,s)}var Xs={getStreamers:Js};const Vs=Oe,Ys=Re,{sortParameters:Zs}=ke;function ei(t,e,r){const[n,s,i]=Zs(["object","function","object"],[t,e,r]);return Vs.builder().withPath("/pub/leaderboards").withQueryParameters(n).withHeaders(i).build().execute(Ys.get,s)}var ti={getLeaderboards:ei},Gr={};(function(t){var e=function(r){var n="b",s="w",i=-1,o="p",u="n",p="b",_="r",T="q",E="k",b="pnbrqkPNBRQK",D="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",A=["1-0","0-1","1/2-1/2","*"],R={b:[16,32,17,15],w:[-16,-32,-17,-15]},j={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},F=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ce=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],S={p:0,n:1,b:2,r:3,q:4,k:5},Z={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},c={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},d=7,m=6,v=1,I=0,C={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},B={w:[{square:C.a1,flag:c.QSIDE_CASTLE},{square:C.h1,flag:c.KSIDE_CASTLE}],b:[{square:C.a8,flag:c.QSIDE_CASTLE},{square:C.h8,flag:c.KSIDE_CASTLE}]},w=new Array(128),H={w:i,b:i},U=s,G={w:0,b:0},ge=i,Se=0,Ie=1,xe=[],fe={},ie={};Ye(typeof r>"u"?D:r);function ur(a){typeof a>"u"&&(a=!1),w=new Array(128),H={w:i,b:i},U=s,G={w:0,b:0},ge=i,Se=0,Ie=1,xe=[],a||(fe={}),ie={},ct(le())}function lr(){for(var a=[],l={},f=function(h){h in ie&&(l[h]=ie[h])};xe.length>0;)a.push(qe());for(f(le());a.length>0;)Pe(a.pop()),f(le());ie=l}function cr(){Ye(D)}function Ye(a,l){typeof l>"u"&&(l=!1);var f=a.split(/\s+/),h=f[0],g=0;if(!fr(a).valid)return!1;ur(l);for(var y=0;y<h.length;y++){var k=h.charAt(y);if(k==="/")g+=8;else if(Zr(k))g+=parseInt(k,10);else{var N=k<"a"?s:n;pr({type:k.toLowerCase(),color:N},_e(g)),g++}}return U=f[1],f[2].indexOf("K")>-1&&(G.w|=c.KSIDE_CASTLE),f[2].indexOf("Q")>-1&&(G.w|=c.QSIDE_CASTLE),f[2].indexOf("k")>-1&&(G.b|=c.KSIDE_CASTLE),f[2].indexOf("q")>-1&&(G.b|=c.QSIDE_CASTLE),ge=f[3]==="-"?i:C[f[3]],Se=parseInt(f[4],10),Ie=parseInt(f[5],10),ct(le()),!0}function fr(a){var l={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},f=a.split(/\s+/);if(f.length!==6)return{valid:!1,error_number:1,error:l[1]};if(isNaN(f[5])||parseInt(f[5],10)<=0)return{valid:!1,error_number:2,error:l[2]};if(isNaN(f[4])||parseInt(f[4],10)<0)return{valid:!1,error_number:3,error:l[3]};if(!/^(-|[abcdefgh][36])$/.test(f[3]))return{valid:!1,error_number:4,error:l[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(f[2]))return{valid:!1,error_number:5,error:l[5]};if(!/^(w|b)$/.test(f[1]))return{valid:!1,error_number:6,error:l[6]};var h=f[0].split("/");if(h.length!==8)return{valid:!1,error_number:7,error:l[7]};for(var g=0;g<h.length;g++){for(var y=0,k=!1,N=0;N<h[g].length;N++)if(isNaN(h[g][N])){if(!/^[prnbqkPRNBQK]$/.test(h[g][N]))return{valid:!1,error_number:9,error:l[9]};y+=1,k=!1}else{if(k)return{valid:!1,error_number:8,error:l[8]};y+=parseInt(h[g][N],10),k=!0}if(y!==8)return{valid:!1,error_number:10,error:l[10]}}return f[3][1]=="3"&&f[1]=="w"||f[3][1]=="6"&&f[1]=="b"?{valid:!1,error_number:11,error:l[11]}:{valid:!0,error_number:0,error:l[0]}}function le(){for(var a=0,l="",f=C.a8;f<=C.h1;f++){if(w[f]==null)a++;else{a>0&&(l+=a,a=0);var h=w[f].color,g=w[f].type;l+=h===s?g.toUpperCase():g.toLowerCase()}f+1&136&&(a>0&&(l+=a),f!==C.h1&&(l+="/"),a=0,f+=8)}var y="";G[s]&c.KSIDE_CASTLE&&(y+="K"),G[s]&c.QSIDE_CASTLE&&(y+="Q"),G[n]&c.KSIDE_CASTLE&&(y+="k"),G[n]&c.QSIDE_CASTLE&&(y+="q"),y=y||"-";var k=ge===i?"-":_e(ge);return[l,U,y,k,Se,Ie].join(" ")}function kt(a){for(var l=0;l<a.length;l+=2)typeof a[l]=="string"&&typeof a[l+1]=="string"&&(fe[a[l]]=a[l+1]);return fe}function ct(a){xe.length>0||(a!==D?(fe.SetUp="1",fe.FEN=a):(delete fe.SetUp,delete fe.FEN))}function hr(a){var l=w[C[a]];return l?{type:l.type,color:l.color}:null}function pr(a,l){if(!("type"in a&&"color"in a)||b.indexOf(a.type.toLowerCase())===-1||!(l in C))return!1;var f=C[l];return a.type==E&&!(H[a.color]==i||H[a.color]==f)?!1:(w[f]={type:a.type,color:a.color},a.type===E&&(H[a.color]=f),ct(le()),!0)}function Jr(a){var l=hr(a);return w[C[a]]=null,l&&l.type===E&&(H[l.color]=i),ct(le()),l}function dr(a,l,f,h,g){var y={color:U,from:l,to:f,flags:h,piece:a[l].type};return g&&(y.flags|=c.PROMOTION,y.promotion=g),a[f]?y.captured=a[f].type:h&c.EP_CAPTURE&&(y.captured=o),y}function Ue(a){function l(Me,Ne,Q,ae,Je){if(Me[Q].type===o&&(Le(ae)===I||Le(ae)===d))for(var tt=[T,_,p,u],Qe=0,rt=tt.length;Qe<rt;Qe++)Ne.push(dr(Me,Q,ae,Je,tt[Qe]));else Ne.push(dr(Me,Q,ae,Je))}var f=[],h=U,g=et(h),y={b:v,w:m},k=C.a8,N=C.h1,q=!1,L=typeof a<"u"&&"legal"in a?a.legal:!0;if(typeof a<"u"&&"square"in a)if(a.square in C)k=N=C[a.square],q=!0;else return[];for(var $=k;$<=N;$++){if($&136){$+=7;continue}var oe=w[$];if(!(oe==null||oe.color!==h))if(oe.type===o){var K=$+R[h][0];if(w[K]==null){l(w,f,$,K,c.NORMAL);var K=$+R[h][1];y[h]===Le($)&&w[K]==null&&l(w,f,$,K,c.BIG_PAWN)}for(z=2;z<4;z++){var K=$+R[h][z];K&136||(w[K]!=null&&w[K].color===g?l(w,f,$,K,c.CAPTURE):K===ge&&l(w,f,$,ge,c.EP_CAPTURE))}}else for(var z=0,J=j[oe.type].length;z<J;z++)for(var re=j[oe.type][z],K=$;K+=re,!(K&136);){if(w[K]==null)l(w,f,$,K,c.NORMAL);else{if(w[K].color===h)break;l(w,f,$,K,c.CAPTURE);break}if(oe.type==="n"||oe.type==="k")break}}if(!q||N===H[h]){if(G[h]&c.KSIDE_CASTLE){var X=H[h],ne=X+2;w[X+1]==null&&w[ne]==null&&!He(g,H[h])&&!He(g,X+1)&&!He(g,ne)&&l(w,f,H[h],ne,c.KSIDE_CASTLE)}if(G[h]&c.QSIDE_CASTLE){var X=H[h],ne=X-2;w[X-1]==null&&w[X-2]==null&&w[X-3]==null&&!He(g,H[h])&&!He(g,X-1)&&!He(g,ne)&&l(w,f,H[h],ne,c.QSIDE_CASTLE)}}if(!L)return f;for(var he=[],$=0,J=f.length;$<J;$++)Pe(f[$]),xt(h)||he.push(f[$]),qe();return he}function We(a,l){var f="";if(a.flags&c.KSIDE_CASTLE)f="O-O";else if(a.flags&c.QSIDE_CASTLE)f="O-O-O";else{var h=Vr(a,l);a.piece!==o&&(f+=a.piece.toUpperCase()+h),a.flags&(c.CAPTURE|c.EP_CAPTURE)&&(a.piece===o&&(f+=_e(a.from)[0]),f+="x"),f+=_e(a.to),a.flags&c.PROMOTION&&(f+="="+a.promotion.toUpperCase())}return Pe(a),ft()&&(Rt()?f+="#":f+="+"),qe(),f}function Ot(a){return a.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function He(a,l){for(var f=C.a8;f<=C.h1;f++){if(f&136){f+=7;continue}if(!(w[f]==null||w[f].color!==a)){var h=w[f],g=f-l,y=g+119;if(F[y]&1<<S[h.type]){if(h.type===o){if(g>0){if(h.color===s)return!0}else if(h.color===n)return!0;continue}if(h.type==="n"||h.type==="k")return!0;for(var k=ce[y],N=f+k,q=!1;N!==l;){if(w[N]!=null){q=!0;break}N+=k}if(!q)return!0}}}return!1}function xt(a){return He(et(a),H[a])}function ft(){return xt(U)}function Rt(){return ft()&&Ue().length===0}function It(){return!ft()&&Ue().length===0}function qt(){for(var a={},l=[],f=0,h=0,g=C.a8;g<=C.h1;g++){if(h=(h+1)%2,g&136){g+=7;continue}var y=w[g];y&&(a[y.type]=y.type in a?a[y.type]+1:1,y.type===p&&l.push(h),f++)}if(f===2)return!0;if(f===3&&(a[p]===1||a[u]===1))return!0;if(f===a[p]+2){for(var k=0,N=l.length,g=0;g<N;g++)k+=l[g];if(k===0||k===N)return!0}return!1}function Lt(){for(var a=[],l={},f=!1;;){var h=qe();if(!h)break;a.push(h)}for(;;){var g=le().split(" ").slice(0,4).join(" ");if(l[g]=g in l?l[g]+1:1,l[g]>=3&&(f=!0),!a.length)break;Pe(a.pop())}return f}function Xr(a){xe.push({move:a,kings:{b:H.b,w:H.w},turn:U,castling:{b:G.b,w:G.w},ep_square:ge,half_moves:Se,move_number:Ie})}function Pe(a){var l=U,f=et(l);if(Xr(a),w[a.to]=w[a.from],w[a.from]=null,a.flags&c.EP_CAPTURE&&(U===n?w[a.to-16]=null:w[a.to+16]=null),a.flags&c.PROMOTION&&(w[a.to]={type:a.promotion,color:l}),w[a.to].type===E){if(H[w[a.to].color]=a.to,a.flags&c.KSIDE_CASTLE){var h=a.to-1,g=a.to+1;w[h]=w[g],w[g]=null}else if(a.flags&c.QSIDE_CASTLE){var h=a.to+1,g=a.to-2;w[h]=w[g],w[g]=null}G[l]=""}if(G[l]){for(var y=0,k=B[l].length;y<k;y++)if(a.from===B[l][y].square&&G[l]&B[l][y].flag){G[l]^=B[l][y].flag;break}}if(G[f]){for(var y=0,k=B[f].length;y<k;y++)if(a.to===B[f][y].square&&G[f]&B[f][y].flag){G[f]^=B[f][y].flag;break}}a.flags&c.BIG_PAWN?U==="b"?ge=a.to-16:ge=a.to+16:ge=i,a.piece===o||a.flags&(c.CAPTURE|c.EP_CAPTURE)?Se=0:Se++,U===n&&Ie++,U=et(U)}function qe(){var a=xe.pop();if(a==null)return null;var l=a.move;H=a.kings,U=a.turn,G=a.castling,ge=a.ep_square,Se=a.half_moves,Ie=a.move_number;var f=U,h=et(U);if(w[l.from]=w[l.to],w[l.from].type=l.piece,w[l.to]=null,l.flags&c.CAPTURE)w[l.to]={type:l.captured,color:h};else if(l.flags&c.EP_CAPTURE){var g;f===n?g=l.to-16:g=l.to+16,w[g]={type:o,color:h}}if(l.flags&(c.KSIDE_CASTLE|c.QSIDE_CASTLE)){var y,k;l.flags&c.KSIDE_CASTLE?(y=l.to+1,k=l.to-1):l.flags&c.QSIDE_CASTLE&&(y=l.to-2,k=l.to+1),w[y]=w[k],w[k]=null}return l}function Vr(a,l){for(var f=Ue({legal:!l}),h=a.from,g=a.to,y=a.piece,k=0,N=0,q=0,L=0,$=f.length;L<$;L++){var oe=f[L].from,K=f[L].to,z=f[L].piece;y===z&&h!==oe&&g===K&&(k++,Le(h)===Le(oe)&&N++,Ze(h)===Ze(oe)&&q++)}return k>0?N>0&&q>0?_e(h):q>0?_e(h).charAt(1):_e(h).charAt(0):""}function Yr(){for(var a=`   +------------------------+
`,l=C.a8;l<=C.h1;l++){if(Ze(l)===0&&(a+=" "+"87654321"[Le(l)]+" |"),w[l]==null)a+=" . ";else{var f=w[l].type,h=w[l].color,g=h===s?f.toUpperCase():f.toLowerCase();a+=" "+g+" "}l+1&136&&(a+=`|
`,l+=8)}return a+=`   +------------------------+
`,a+=`     a  b  c  d  e  f  g  h
`,a}function Mt(a,l){var f=Ot(a);if(l){var h=f.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(h)var g=h[1],y=h[2],k=h[3],N=h[4]}for(var q=Ue(),L=0,$=q.length;L<$;L++){if(f===Ot(We(q[L]))||l&&f===Ot(We(q[L],!0)))return q[L];if(h&&(!g||g.toLowerCase()==q[L].piece)&&C[y]==q[L].from&&C[k]==q[L].to&&(!N||N.toLowerCase()==q[L].promotion))return q[L]}return null}function Le(a){return a>>4}function Ze(a){return a&15}function _e(a){var l=Ze(a),f=Le(a);return"abcdefgh".substring(l,l+1)+"87654321".substring(f,f+1)}function et(a){return a===s?n:s}function Zr(a){return"0123456789".indexOf(a)!==-1}function ht(a){var l=_r(a);l.san=We(l,!1),l.to=_e(l.to),l.from=_e(l.from);var f="";for(var h in c)c[h]&l.flags&&(f+=Z[h]);return l.flags=f,l}function _r(a){var l=a instanceof Array?[]:{};for(var f in a)typeof f=="object"?l[f]=_r(a[f]):l[f]=a[f];return l}function mr(a){return a.replace(/^\s+|\s+$/g,"")}function gr(a){for(var l=Ue({legal:!1}),f=0,h=U,g=0,y=l.length;g<y;g++){if(Pe(l[g]),!xt(h))if(a-1>0){var k=gr(a-1);f+=k}else f++;qe()}return f}return{WHITE:s,BLACK:n,PAWN:o,KNIGHT:u,BISHOP:p,ROOK:_,QUEEN:T,KING:E,SQUARES:function(){for(var a=[],l=C.a8;l<=C.h1;l++){if(l&136){l+=7;continue}a.push(_e(l))}return a}(),FLAGS:Z,load:function(a){return Ye(a)},reset:function(){return cr()},moves:function(a){for(var l=Ue(a),f=[],h=0,g=l.length;h<g;h++)typeof a<"u"&&"verbose"in a&&a.verbose?f.push(ht(l[h])):f.push(We(l[h],!1));return f},in_check:function(){return ft()},in_checkmate:function(){return Rt()},in_stalemate:function(){return It()},in_draw:function(){return Se>=100||It()||qt()||Lt()},insufficient_material:function(){return qt()},in_threefold_repetition:function(){return Lt()},game_over:function(){return Se>=100||Rt()||It()||qt()||Lt()},validate_fen:function(a){return fr(a)},fen:function(){return le()},board:function(){for(var a=[],l=[],f=C.a8;f<=C.h1;f++)w[f]==null?l.push(null):l.push({type:w[f].type,color:w[f].color}),f+1&136&&(a.push(l),l=[],f+=8);return a},pgn:function(a){var l=typeof a=="object"&&typeof a.newline_char=="string"?a.newline_char:`
`,f=typeof a=="object"&&typeof a.max_width=="number"?a.max_width:0,h=[],g=!1;for(var y in fe)h.push("["+y+' "'+fe[y]+'"]'+l),g=!0;g&&xe.length&&h.push(l);for(var k=function(J){var re=ie[le()];if(typeof re<"u"){var X=J.length>0?" ":"";J=`${J}${X}{${re}}`}return J},N=[];xe.length>0;)N.push(qe());var q=[],L="";for(N.length===0&&q.push(k(""));N.length>0;){L=k(L);var $=N.pop();!xe.length&&$.color==="b"?L=Ie+". ...":$.color==="w"&&(L.length&&q.push(L),L=Ie+"."),L=L+" "+We($,!1),Pe($)}if(L.length&&q.push(k(L)),typeof fe.Result<"u"&&q.push(fe.Result),f===0)return h.join("")+q.join(" ");for(var oe=function(){return h.length>0&&h[h.length-1]===" "?(h.pop(),!0):!1},K=function(J,re){for(var X of re.split(" "))if(X){if(J+X.length>f){for(;oe();)J--;h.push(l),J=0}h.push(X),J+=X.length,h.push(" "),J++}return oe()&&J--,J},z=0,y=0;y<q.length;y++){if(z+q[y].length>f&&q[y].includes("{")){z=K(z,q[y]);continue}z+q[y].length>f&&y!==0?(h[h.length-1]===" "&&h.pop(),h.push(l),z=0):y!==0&&(h.push(" "),z++),h.push(q[y]),z+=q[y].length}return h.join("")},load_pgn:function(a,l){var f=typeof l<"u"&&"sloppy"in l?l.sloppy:!1;function h(Q){return Q.replace(/\\/g,"\\")}function g(Q){for(var ae in Q)return!0;return!1}function y(Q,ae){for(var Je=typeof ae=="object"&&typeof ae.newline_char=="string"?ae.newline_char:`\r?
`,tt={},Qe=Q.split(new RegExp(h(Je))),rt="",yr="",pt=0;pt<Qe.length;pt++)rt=Qe[pt].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),yr=Qe[pt].replace(/^\[[A-Za-z]+\s"(.*)"\ *\]$/,"$1"),mr(rt).length>0&&(tt[rt]=yr);return tt}var k=typeof l=="object"&&typeof l.newline_char=="string"?l.newline_char:`\r?
`,N=new RegExp("^(\\[((?:"+h(k)+")|.)*\\])(?:"+h(k)+"){2}"),q=N.test(a)?N.exec(a)[1]:"";cr();var L=y(q,l);for(var $ in L)kt([$,L[$]]);if(L.SetUp==="1"&&!("FEN"in L&&Ye(L.FEN,!0)))return!1;for(var oe=function(Q){return Array.from(Q).map(function(ae){return ae.charCodeAt(0)<128?ae.charCodeAt(0).toString(16):encodeURIComponent(ae).replace(/\%/g,"").toLowerCase()}).join("")},K=function(Q){return Q.length==0?"":decodeURIComponent("%"+Q.match(/.{1,2}/g).join("%"))},z=function(Q){return Q=Q.replace(new RegExp(h(k),"g")," "),`{${oe(Q.slice(1,Q.length-1))}}`},J=function(Q){if(Q.startsWith("{")&&Q.endsWith("}"))return K(Q.slice(1,Q.length-1))},re=a.replace(q,"").replace(new RegExp(`({[^}]*})+?|;([^${h(k)}]*)`,"g"),function(Q,ae,Je){return ae!==void 0?z(ae):" "+z(`{${Je.slice(1)}}`)}).replace(new RegExp(h(k),"g")," "),X=/(\([^\(\)]+\))+?/g;X.test(re);)re=re.replace(X,"");re=re.replace(/\d+\.(\.\.)?/g,""),re=re.replace(/\.\.\./g,""),re=re.replace(/\$\d+/g,"");var ne=mr(re).split(new RegExp(/\s+/));ne=ne.join(",").replace(/,,+/g,",").split(",");for(var he="",Me=0;Me<ne.length-1;Me++){var Ne=J(ne[Me]);if(Ne!==void 0){ie[le()]=Ne;continue}if(he=Mt(ne[Me],f),he==null)return!1;Pe(he)}if(Ne=J(ne[ne.length-1]),Ne!==void 0&&(ie[le()]=Ne,ne.pop()),he=ne[ne.length-1],A.indexOf(he)>-1)g(fe)&&typeof fe.Result>"u"&&kt(["Result",he]);else{if(he=Mt(he,f),he==null)return!1;Pe(he)}return!0},header:function(){return kt(arguments)},ascii:function(){return Yr()},turn:function(){return U},move:function(a,l){var f=typeof l<"u"&&"sloppy"in l?l.sloppy:!1,h=null;if(typeof a=="string")h=Mt(a,f);else if(typeof a=="object"){for(var g=Ue(),y=0,k=g.length;y<k;y++)if(a.from===_e(g[y].from)&&a.to===_e(g[y].to)&&(!("promotion"in g[y])||a.promotion===g[y].promotion)){h=g[y];break}}if(!h)return null;var N=ht(h);return Pe(h),N},undo:function(){var a=qe();return a?ht(a):null},clear:function(){return ur()},put:function(a,l){return pr(a,l)},get:function(a){return hr(a)},remove:function(a){return Jr(a)},perft:function(a){return gr(a)},square_color:function(a){if(a in C){var l=C[a];return(Le(l)+Ze(l))%2===0?"light":"dark"}return null},history:function(a){for(var l=[],f=[],h=typeof a<"u"&&("verbose"in a)&&a.verbose;xe.length>0;)l.push(qe());for(;l.length>0;){var g=l.pop();h?f.push(ht(g)):f.push(We(g)),Pe(g)}return f},get_comment:function(){return ie[le()]},set_comment:function(a){ie[le()]=a.replace("{","[").replace("}","]")},delete_comment:function(){var a=ie[le()];return delete ie[le()],a},get_comments:function(){return lr(),Object.keys(ie).map(function(a){return{fen:a,comment:ie[a]}})},delete_comments:function(){return lr(),Object.keys(ie).map(function(a){var l=ie[a];return delete ie[a],{fen:a,comment:l}})}}};t.Chess=e})(Gr);const{Chess:Sr}=Gr,ri=Oe,Pr=Re,Tr=Qr,{sortParameters:ni}=ke,si="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?",Wt="abcdefgh",Jt=8,ii="#@$_[]^()~{}",oi="brnq",ai=4,Dt=3,ui=1,li=2,ci="chess.com",Ar="Result missing or empty.";function ar(t){const e=Math.floor(t/Dt);if(e>ai-1)throw new Error(`Pawn promotion row index out of bounds: ${e}`);this.piece=oi[e],this.isCaptureLeft=t%Dt===ui,this.isCaptureRight=t%Dt===li}ar.prototype.getTo=function(t){const e=t[0],r=t[1],n=Wt.indexOf(e);let s;if(this.isCaptureLeft?s=n-1:s=this.isCaptureRight?n+1:n,s<0||s>Jt-1)throw new Error(`Invalid pawn promotion; file index out of bounds: ${s}`);const i=Wt[s];let o;if(r==="2")o="1";else if(r==="7")o="8";else throw new Error(`Invalid rank prior to pawn promotion: ${r}`);return`${i}${o}`};function Cr(t,e){const r=si.indexOf(t);if(r===-1){if(e){const i=ii.indexOf(t);if(i!==-1)return new ar(i)}throw new Error(`Unrecognized move-character: ${t}`)}const n=Wt[r%Jt],s=Math.floor(r/Jt)+1;return`${n}${s}`}function fi(t,e){const r=e.length;if(r===0||r%2!==0)throw new Error(`Malformed field "game.moveList"; expected non-empty, even-number of characters: ${e}`);const n="FEN"in t?new Sr(t.FEN):new Sr;Object.keys(t).forEach(s=>{n.header(s,t[s])});for(let s=0;s<r;s+=2){const i={from:Cr(e[s],!1),to:Cr(e[s+1],!0)};i.to instanceof ar&&(i.promotion=i.to.piece,i.to=i.to.getTo(i.from)),n.move(i)}return n.pgn()}function jt(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=typeof r<"u"?r:e;throw new Error(`Missing required field "${n}"`)}function kr(t){const e=jt(t,"game"),r=jt(e,"moveList","game.moveList"),n=jt(e,"pgnHeaders","game.pgnHeaders");e.pgn=fi(n,r)}function hi(t,e,r,n){const[s,i,o]=ni(["object","function","object"],[e,r,n]),u=ri.builder().withHost(ci).withPath(`/callback/live/game/${t}`).withQueryParameters(s).withHeaders(o).build();return i?(Pr.get(u,(p,_)=>{if(p)i(p);else if(!_||!Object.prototype.hasOwnProperty.call(_,"body"))i(new Tr(Ar));else try{kr(_.body),i(null,_)}catch(T){i(T)}}),null):new Promise((p,_)=>{Pr.get(u,(T,E)=>{if(T)_(T);else if(!E||!Object.prototype.hasOwnProperty.call(E,"body"))_(new Tr(Ar));else try{kr(E.body),p(E)}catch(b){_(b)}})})}var pi={getGameByID:hi};const di=Fn,{getPlayer:_i,getPlayerStats:mi,getPlayerOnline:gi,getPlayerCurrentDailyChess:yi,getPlayerToMoveDailyChess:bi,getPlayerMonthlyArchives:vi,getPlayerCompleteMonthlyArchives:wi,getPlayerMultiGamePGN:Ei,getPlayerClubs:Si,getPlayerMatches:Pi,getPlayerTournaments:Ti,getTitledPlayers:Ai}=Ts,{getClub:Ci,getClubMembers:ki,getClubMatches:Oi}=Os,{getTournament:xi,getTournamentRound:Ri,getTournamentRoundGroup:Ii}=qs,{getTeamMatch:qi,getTeamMatchBoard:Li,getTeamLiveMatch:Mi,getTeamLiveMatchBoard:Ni}=Ds,{getCountry:$i,getCountryPlayers:Di,getCountryClubs:ji}=Qs,{getDailyPuzzle:Ui,getDailyPuzzleRandom:Hi}=Fs,{getStreamers:Qi}=Xs,{getLeaderboards:Ki}=ti,{getGameByID:Bi}=pi;function zr(t){t&&"queue"in t&&t.queue&&(this.addMethods(di),this.queueSetup())}zr.prototype={addMethods(t){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)this[e[r]]=t[e[r]]},async ifChanged(t,e,r,n,s){if(!t||typeof t!="string")throw Error("etag required for ifChanged");if(!e||typeof e!="function")throw Error("dispatch requires request function");let i=[],o=null,u={};const p=[r,n,s];for(let _=0;_<p.length;_+=1)p[_]&&(p[_]instanceof Array?i=p[_]:typeof p[_]=="object"?u=p[_]:typeof p[_]=="function"&&(o=p[_]));try{return{changed:!0,response:await e(...i,u,o,{"If-None-Match":t})}}catch{return{changed:!1}}},getPlayer:_i,getPlayerStats:mi,getPlayerOnline:gi,getPlayerCurrentDailyChess:yi,getPlayerToMoveDailyChess:bi,getPlayerMonthlyArchives:vi,getPlayerCompleteMonthlyArchives:wi,getPlayerMultiGamePGN:Ei,getPlayerClubs:Si,getPlayerMatches:Pi,getPlayerTournaments:Ti,getTitledPlayers:Ai,getClub:Ci,getClubMembers:ki,getClubMatches:Oi,getTournament:xi,getTournamentRound:Ri,getTournamentRoundGroup:Ii,getTeamMatch:qi,getTeamMatchBoard:Li,getTeamLiveMatch:Mi,getTeamLiveMatchBoard:Ni,getCountry:$i,getCountryPlayers:Di,getCountryClubs:ji,getDailyPuzzle:Ui,getDailyPuzzleRandom:Hi,getStreamers:Qi,getLeaderboards:Ki,getGameByID:Bi};var Fi=zr;const Gi=Fi;var zi=Gi;const Wi=on(zi),wt=new Wi,Ji={},Xi=P("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),Vi=[Xi];function Yi(t,e){return V(),se("button",{class:"btn btn-square btn-outline btn-primary absolute top-5 left-5",onClick:e[0]||(e[0]=r=>t.$router.push("/"))},Vi)}const Zi=Et(Ji,[["render",Yi]]);/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const ue="w",me="b",ee="p",Xt="n",yt="b",it="r",je="q",te="k",Ut="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",pe=-1,eo={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},O={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},x={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Ht={b:[16,32,17,15],w:[-16,-32,-17,-15]},Or={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},to=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ro=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],no={p:1,n:2,b:4,r:8,q:16,k:32},so="pnbrqkPNBRQK",xr=[Xt,yt,it,je],io=7,oo=6,ao=1,uo=0,_t={[te]:O.KSIDE_CASTLE,[je]:O.QSIDE_CASTLE},$e={w:[{square:x.a1,flag:O.QSIDE_CASTLE},{square:x.h1,flag:O.KSIDE_CASTLE}],b:[{square:x.a8,flag:O.QSIDE_CASTLE},{square:x.h8,flag:O.KSIDE_CASTLE}]},lo={b:ao,w:oo},co=["1-0","0-1","1/2-1/2","*"];function Ge(t){return t>>4}function at(t){return t&15}function Wr(t){return"0123456789".indexOf(t)!==-1}function de(t){const e=at(t),r=Ge(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function nt(t){return t===ue?me:ue}function fo(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const s=e[0].split("/");if(s.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let o=0;o<s.length;o++){let u=0,p=!1;for(let _=0;_<s[o].length;_++)if(Wr(s[o][_])){if(p)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};u+=parseInt(s[o][_],10),p=!0}else{if(!/^[prnbqkPRNBQK]$/.test(s[o][_]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};u+=1,p=!1}if(u!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const i=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:o,regex:u}of i){if(!u.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${o} king`};if((e[0].match(u)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${o} kings`}}return{ok:!0}}function ho(t,e){const r=t.from,n=t.to,s=t.piece;let i=0,o=0,u=0;for(let p=0,_=e.length;p<_;p++){const T=e[p].from,E=e[p].to,b=e[p].piece;s===b&&r!==T&&n===E&&(i++,Ge(r)===Ge(T)&&o++,at(r)===at(T)&&u++)}return i>0?o>0&&u>0?de(r):u>0?de(r).charAt(1):de(r).charAt(0):""}function De(t,e,r,n,s,i=void 0,o=O.NORMAL){const u=Ge(n);if(s===ee&&(u===io||u===uo))for(let p=0;p<xr.length;p++){const _=xr[p];t.push({color:e,from:r,to:n,piece:s,captured:i,promotion:_,flags:o|O.PROMOTION})}else t.push({color:e,from:r,to:n,piece:s,captured:i,flags:o})}function Rr(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:ee:(e=e.toLowerCase(),e==="o"?te:e)}function Qt(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class po{constructor(e=Ut){ye(this,"_board",new Array(128));ye(this,"_turn",ue);ye(this,"_header",{});ye(this,"_kings",{w:pe,b:pe});ye(this,"_epSquare",-1);ye(this,"_halfMoves",0);ye(this,"_moveNumber",0);ye(this,"_history",[]);ye(this,"_comments",{});ye(this,"_castling",{w:0,b:0});this.load(e)}clear(e=!1){this._board=new Array(128),this._kings={w:pe,b:pe},this._turn=ue,this._castling={w:0,b:0},this._epSquare=pe,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._updateSetup(this.fen())}removeHeader(e){e in this._header&&delete this._header[e]}load(e,r=!1){let n=e.split(/\s+/);if(n.length>=2&&n.length<6){const p=["-","-","0","1"];e=n.concat(p.slice(-(6-n.length))).join(" ")}n=e.split(/\s+/);const{ok:s,error:i}=fo(e);if(!s)throw new Error(i);const o=n[0];let u=0;this.clear(r);for(let p=0;p<o.length;p++){const _=o.charAt(p);if(_==="/")u+=8;else if(Wr(_))u+=parseInt(_,10);else{const T=_<"a"?ue:me;this.put({type:_.toLowerCase(),color:T},de(u)),u++}}this._turn=n[1],n[2].indexOf("K")>-1&&(this._castling.w|=O.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(this._castling.w|=O.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(this._castling.b|=O.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(this._castling.b|=O.QSIDE_CASTLE),this._epSquare=n[3]==="-"?pe:x[n[3]],this._halfMoves=parseInt(n[4],10),this._moveNumber=parseInt(n[5],10),this._updateSetup(this.fen())}fen(){var i,o;let e=0,r="";for(let u=x.a8;u<=x.h1;u++){if(this._board[u]){e>0&&(r+=e,e=0);const{color:p,type:_}=this._board[u];r+=p===ue?_.toUpperCase():_.toLowerCase()}else e++;u+1&136&&(e>0&&(r+=e),u!==x.h1&&(r+="/"),e=0,u+=8)}let n="";this._castling[ue]&O.KSIDE_CASTLE&&(n+="K"),this._castling[ue]&O.QSIDE_CASTLE&&(n+="Q"),this._castling[me]&O.KSIDE_CASTLE&&(n+="k"),this._castling[me]&O.QSIDE_CASTLE&&(n+="q"),n=n||"-";let s="-";if(this._epSquare!==pe){const u=this._epSquare+(this._turn===ue?16:-16),p=[u+1,u-1];for(const _ of p){if(_&136)continue;const T=this._turn;if(((i=this._board[_])==null?void 0:i.color)===T&&((o=this._board[_])==null?void 0:o.type)===ee){this._makeMove({color:T,from:_,to:this._epSquare,piece:ee,captured:ee,flags:O.EP_CAPTURE});const E=!this._isKingAttacked(T);if(this._undoMove(),E){s=de(this._epSquare);break}}}}return[r,this._turn,n,s,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==Ut?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(Ut)}get(e){return this._board[x[e]]||!1}put({type:e,color:r},n){if(so.indexOf(e.toLowerCase())===-1||!(n in x))return!1;const s=x[n];return e==te&&!(this._kings[r]==pe||this._kings[r]==s)?!1:(this._board[s]={type:e,color:r},e===te&&(this._kings[r]=s),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}remove(e){const r=this.get(e);return delete this._board[x[e]],r&&r.type===te&&(this._kings[r.color]=pe),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,s,i,o,u,p,_,T,E,b,D,A;const e=((n=this._board[x.e1])==null?void 0:n.type)===te&&((s=this._board[x.e1])==null?void 0:s.color)===ue,r=((i=this._board[x.e8])==null?void 0:i.type)===te&&((o=this._board[x.e8])==null?void 0:o.color)===me;(!e||((u=this._board[x.a1])==null?void 0:u.type)!==it||((p=this._board[x.a1])==null?void 0:p.color)!==ue)&&(this._castling.w&=~O.QSIDE_CASTLE),(!e||((_=this._board[x.h1])==null?void 0:_.type)!==it||((T=this._board[x.h1])==null?void 0:T.color)!==ue)&&(this._castling.w&=~O.KSIDE_CASTLE),(!r||((E=this._board[x.a8])==null?void 0:E.type)!==it||((b=this._board[x.a8])==null?void 0:b.color)!==me)&&(this._castling.b&=~O.QSIDE_CASTLE),(!r||((D=this._board[x.h8])==null?void 0:D.type)!==it||((A=this._board[x.h8])==null?void 0:A.color)!==me)&&(this._castling.b&=~O.KSIDE_CASTLE)}_updateEnPassantSquare(){var i,o;if(this._epSquare===pe)return;const e=this._epSquare+(this._turn===ue?-16:16),r=this._epSquare+(this._turn===ue?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((i=this._board[r])==null?void 0:i.color)!==nt(this._turn)||((o=this._board[r])==null?void 0:o.type)!==ee){this._epSquare=pe;return}const s=u=>{var p,_;return!(u&136)&&((p=this._board[u])==null?void 0:p.color)===this._turn&&((_=this._board[u])==null?void 0:_.type)===ee};n.some(s)||(this._epSquare=pe)}_attacked(e,r){for(let n=x.a8;n<=x.h1;n++){if(n&136){n+=7;continue}if(this._board[n]===void 0||this._board[n].color!==e)continue;const s=this._board[n],i=n-r;if(i===0)continue;const o=i+119;if(to[o]&no[s.type]){if(s.type===ee){if(i>0){if(s.color===ue)return!0}else if(s.color===me)return!0;continue}if(s.type==="n"||s.type==="k")return!0;const u=ro[o];let p=n+u,_=!1;for(;p!==r;){if(this._board[p]!=null){_=!0;break}p+=u}if(!_)return!0}}return!1}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(nt(e),r)}isAttacked(e,r){return this._attacked(r,x[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,s=0;for(let i=x.a8;i<=x.h1;i++){if(s=(s+1)%2,i&136){i+=7;continue}const o=this._board[i];o&&(e[o.type]=o.type in e?e[o.type]+1:1,o.type===yt&&r.push(s),n++)}if(n===2)return!0;if(n===3&&(e[yt]===1||e[Xt]===1))return!0;if(n===e[yt]+2){let i=0;const o=r.length;for(let u=0;u<o;u++)i+=r[u];if(i===0||i===o)return!0}return!1}isThreefoldRepetition(){const e=[],r={};let n=!1;for(;;){const s=this._undoMove();if(!s)break;e.push(s)}for(;;){const s=this.fen().split(" ").slice(0,4).join(" ");r[s]=s in r?r[s]+1:1,r[s]>=3&&(n=!0);const i=e.pop();if(i)this._makeMove(i);else break}return n}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const s=this._moves({square:r,piece:n});return e?s.map(i=>this._makePretty(i)):s.map(i=>this._moveToSan(i,s))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var D;const s=n?n.toLowerCase():void 0,i=r==null?void 0:r.toLowerCase(),o=[],u=this._turn,p=nt(u);let _=x.a8,T=x.h1,E=!1;if(s)if(s in x)_=T=x[s],E=!0;else return[];for(let A=_;A<=T;A++){if(A&136){A+=7;continue}if(!this._board[A]||this._board[A].color===p)continue;const{type:R}=this._board[A];let j;if(R===ee){if(i&&i!==R)continue;j=A+Ht[u][0],this._board[j]||(De(o,u,A,j,ee),j=A+Ht[u][1],lo[u]===Ge(A)&&!this._board[j]&&De(o,u,A,j,ee,void 0,O.BIG_PAWN));for(let F=2;F<4;F++)j=A+Ht[u][F],!(j&136)&&(((D=this._board[j])==null?void 0:D.color)===p?De(o,u,A,j,ee,this._board[j].type,O.CAPTURE):j===this._epSquare&&De(o,u,A,j,ee,ee,O.EP_CAPTURE))}else{if(i&&i!==R)continue;for(let F=0,ce=Or[R].length;F<ce;F++){const S=Or[R][F];for(j=A;j+=S,!(j&136);){if(!this._board[j])De(o,u,A,j,R);else{if(this._board[j].color===u)break;De(o,u,A,j,R,this._board[j].type,O.CAPTURE);break}if(R===Xt||R===te)break}}}}if((i===void 0||i===te)&&(!E||T===this._kings[u])){if(this._castling[u]&O.KSIDE_CASTLE){const A=this._kings[u],R=A+2;!this._board[A+1]&&!this._board[R]&&!this._attacked(p,this._kings[u])&&!this._attacked(p,A+1)&&!this._attacked(p,R)&&De(o,u,this._kings[u],R,te,void 0,O.KSIDE_CASTLE)}if(this._castling[u]&O.QSIDE_CASTLE){const A=this._kings[u],R=A-2;!this._board[A-1]&&!this._board[A-2]&&!this._board[A-3]&&!this._attacked(p,this._kings[u])&&!this._attacked(p,A-1)&&!this._attacked(p,R)&&De(o,u,this._kings[u],R,te,void 0,O.QSIDE_CASTLE)}}if(!e||this._kings[u]===-1)return o;const b=[];for(let A=0,R=o.length;A<R;A++)this._makeMove(o[A]),this._isKingAttacked(u)||b.push(o[A]),this._undoMove();return b}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(typeof e=="object"){const i=this._moves();for(let o=0,u=i.length;o<u;o++)if(e.from===de(i[o].from)&&e.to===de(i[o].to)&&(!("promotion"in i[o])||e.promotion===i[o].promotion)){n=i[o];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const s=this._makePretty(n);return this._makeMove(n),s}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const r=this._turn,n=nt(r);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&O.EP_CAPTURE&&(this._turn===me?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:r}),this._board[e.to].type===te){if(this._kings[r]=e.to,e.flags&O.KSIDE_CASTLE){const s=e.to-1,i=e.to+1;this._board[s]=this._board[i],delete this._board[i]}else if(e.flags&O.QSIDE_CASTLE){const s=e.to+1,i=e.to-2;this._board[s]=this._board[i],delete this._board[i]}this._castling[r]=0}if(this._castling[r]){for(let s=0,i=$e[r].length;s<i;s++)if(e.from===$e[r][s].square&&this._castling[r]&$e[r][s].flag){this._castling[r]^=$e[r][s].flag;break}}if(this._castling[n]){for(let s=0,i=$e[n].length;s<i;s++)if(e.to===$e[n][s].square&&this._castling[n]&$e[n][s].flag){this._castling[n]^=$e[n][s].flag;break}}e.flags&O.BIG_PAWN?r===me?this._epSquare=e.to-16:this._epSquare=e.to+16:this._epSquare=pe,e.piece===ee?this._halfMoves=0:e.flags&(O.CAPTURE|O.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===me&&this._moveNumber++,this._turn=n}undo(){const e=this._undoMove();return e?this._makePretty(e):null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const n=this._turn,s=nt(n);if(this._board[r.from]=this._board[r.to],this._board[r.from].type=r.piece,delete this._board[r.to],r.captured)if(r.flags&O.EP_CAPTURE){let i;n===me?i=r.to-16:i=r.to+16,this._board[i]={type:ee,color:s}}else this._board[r.to]={type:r.captured,color:s};if(r.flags&(O.KSIDE_CASTLE|O.QSIDE_CASTLE)){let i,o;r.flags&O.KSIDE_CASTLE?(i=r.to+1,o=r.to-1):(i=r.to-2,o=r.to+1),this._board[i]=this._board[o],delete this._board[o]}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let s=!1;for(const b in this._header)n.push("["+b+' "'+this._header[b]+'"]'+e),s=!0;s&&this._history.length&&n.push(e);const i=b=>{const D=this._comments[this.fen()];if(typeof D<"u"){const A=b.length>0?" ":"";b=`${b}${A}{${D}}`}return b},o=[];for(;this._history.length>0;)o.push(this._undoMove());const u=[];let p="";for(o.length===0&&u.push(i(""));o.length>0;){p=i(p);const b=o.pop();if(!b)break;if(!this._history.length&&b.color==="b"){const D=`${this._moveNumber}. ...`;p=p?`${p} ${D}`:D}else b.color==="w"&&(p.length&&u.push(p),p=this._moveNumber+".");p=p+" "+this._moveToSan(b,this._moves({legal:!0})),this._makeMove(b)}if(p.length&&u.push(i(p)),typeof this._header.Result<"u"&&u.push(this._header.Result),r===0)return n.join("")+u.join(" ");const _=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},T=function(b,D){for(const A of D.split(" "))if(A){if(b+A.length>r){for(;_();)b--;n.push(e),b=0}n.push(A),b+=A.length,n.push(" "),b++}return _()&&b--,b};let E=0;for(let b=0;b<u.length;b++){if(E+u[b].length>r&&u[b].includes("{")){E=T(E,u[b]);continue}E+u[b].length>r&&b!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),E=0):b!==0&&(n.push(" "),E++),n.push(u[b]),E+=u[b].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){function s(S){return S.replace(/\\/g,"\\")}function i(S){const Z={},c=S.split(new RegExp(s(n)));let d="",m="";for(let v=0;v<c.length;v++){const I=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;d=c[v].replace(I,"$1"),m=c[v].replace(I,"$2"),d.trim().length>0&&(Z[d]=m)}return Z}e=e.trim();const u=new RegExp("^(\\[((?:"+s(n)+")|.)*\\])((?:\\s*"+s(n)+"){2}|(?:\\s*"+s(n)+")*$)").exec(e),p=u&&u.length>=2?u[1]:"";this.reset();const _=i(p);let T="";for(const S in _)S.toLowerCase()==="fen"&&(T=_[S]),this.header(S,_[S]);if(!r)T&&this.load(T,!0);else if(_.SetUp==="1"){if(!("FEN"in _))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(_.FEN,!0)}function E(S){return Array.from(S).map(function(Z){return Z.charCodeAt(0)<128?Z.charCodeAt(0).toString(16):encodeURIComponent(Z).replace(/%/g,"").toLowerCase()}).join("")}function b(S){return S.length==0?"":decodeURIComponent("%"+(S.match(/.{1,2}/g)||[]).join("%"))}const D=function(S){return S=S.replace(new RegExp(s(n),"g")," "),`{${E(S.slice(1,S.length-1))}}`},A=function(S){if(S.startsWith("{")&&S.endsWith("}"))return b(S.slice(1,S.length-1))};let R=e.replace(p,"").replace(new RegExp(`({[^}]*})+?|;([^${s(n)}]*)`,"g"),function(S,Z,c){return Z!==void 0?D(Z):" "+D(`{${c.slice(1)}}`)}).replace(new RegExp(s(n),"g")," ");const j=/(\([^()]+\))+?/g;for(;j.test(R);)R=R.replace(j,"");R=R.replace(/\d+\.(\.\.)?/g,""),R=R.replace(/\.\.\./g,""),R=R.replace(/\$\d+/g,"");let F=R.trim().split(new RegExp(/\s+/));F=F.filter(S=>S!=="");let ce="";for(let S=0;S<F.length;S++){const Z=A(F[S]);if(Z!==void 0){this._comments[this.fen()]=Z;continue}const c=this._moveFromSan(F[S],r);if(c==null)if(co.indexOf(F[S])>-1)ce=F[S];else throw new Error(`Invalid move in PGN: ${F[S]}`);else ce="",this._makeMove(c)}ce&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",ce)}_moveToSan(e,r){let n="";if(e.flags&O.KSIDE_CASTLE)n="O-O";else if(e.flags&O.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==ee){const s=ho(e,r);n+=e.piece.toUpperCase()+s}e.flags&(O.CAPTURE|O.EP_CAPTURE)&&(e.piece===ee&&(n+=de(e.from)[0]),n+="x"),n+=de(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){const n=Qt(e);let s=Rr(n),i=this._moves({legal:!0,piece:s});for(let b=0,D=i.length;b<D;b++)if(n===Qt(this._moveToSan(i[b],i)))return i[b];if(r)return null;let o,u,p,_,T,E=!1;if(u=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),u?(o=u[1],p=u[2],_=u[3],T=u[4],p.length==1&&(E=!0)):(u=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),u&&(o=u[1],p=u[2],_=u[3],T=u[4],p.length==1&&(E=!0))),s=Rr(n),i=this._moves({legal:!0,piece:o||s}),!_)return null;for(let b=0,D=i.length;b<D;b++)if(p){if((!o||o.toLowerCase()==i[b].piece)&&x[p]==i[b].from&&x[_]==i[b].to&&(!T||T.toLowerCase()==i[b].promotion))return i[b];if(E){const A=de(i[b].from);if((!o||o.toLowerCase()==i[b].piece)&&x[_]==i[b].to&&(p==A[0]||p==A[1])&&(!T||T.toLowerCase()==i[b].promotion))return i[b]}}else if(n===Qt(this._moveToSan(i[b],i)).replace("x",""))return i[b];return null}ascii(){let e=`   +------------------------+
`;for(let r=x.a8;r<=x.h1;r++){if(at(r)===0&&(e+=" "+"87654321"[Ge(r)]+" |"),this._board[r]){const n=this._board[r].type,i=this._board[r].color===ue?n.toUpperCase():n.toLowerCase();e+=" "+i+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const s=this._turn;for(let i=0,o=r.length;i<o;i++)this._makeMove(r[i]),this._isKingAttacked(s)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:r,piece:n,from:s,to:i,flags:o,captured:u,promotion:p}=e;let _="";for(const D in O)O[D]&o&&(_+=eo[D]);const T=de(s),E=de(i),b={color:r,piece:n,from:T,to:E,san:this._moveToSan(e,this._moves({legal:!0})),flags:_,lan:T+E,before:this.fen(),after:""};return this._makeMove(e),b.after=this.fen(),this._undoMove(),u&&(b.captured=u),p&&(b.promotion=p,b.lan+=p),b}turn(){return this._turn}board(){const e=[];let r=[];for(let n=x.a8;n<=x.h1;n++)this._board[n]==null?r.push(null):r.push({square:de(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in x){const r=x[e];return(Ge(r)+at(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const s=r.pop();if(!s)break;e?n.push(this._makePretty(s)):n.push(this._moveToSan(s,this._moves())),this._makeMove(s)}return n}_pruneComments(){const e=[],r={},n=s=>{s in this._comments&&(r[s]=this._comments[s])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const s=e.pop();if(!s)break;this._makeMove(s),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const s of[te,je])r[s]!==void 0&&(r[s]?this._castling[e]|=_t[s]:this._castling[e]&=~_t[s]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[te]===void 0||r[te]===n[te])&&(r[je]===void 0||r[je]===n[je])}getCastlingRights(e){return{[te]:(this._castling[e]&_t[te])!==0,[je]:(this._castling[e]&_t[je])!==0}}moveNumber(){return this._moveNumber}}const _o={key:0},mo={class:"stats"},go={class:"stat"},yo={class:"stat-figure"},bo={class:"avatar"},vo={class:"w-12 rounded-full"},wo=["src"],Eo={class:"stat-value text-lg"},So={class:"stat-title text-right text-base"},Po={class:"stat"},To={key:1},Ao={__name:"UserInfoGame",props:{username:String},setup(t){const e=t,r=Ke(void 0);return St(()=>{const n=s=>{wt.getPlayer(e.username).then(i=>{r.value=i.body}).catch(()=>{s<10&&n(++s)})};n(0)}),(n,s)=>{const i=Kt("flag"),o=Kt("router-link");return r.value!==void 0?(V(),se("div",_o,[Ae(o,{to:"/user?username="+t.username},{default:rn(()=>[P("div",mo,[P("div",go,[P("div",yo,[P("div",bo,[P("div",vo,[P("img",{src:r.value.avatar??be(qr)},null,8,wo)])])]),P("div",Eo,Te(r.value.name??r.value.username),1),P("div",So,Te(r.value.username),1)]),P("div",Po,[Ae(i,{iso:r.value.country.split("/").pop(),class:"stat-figure rounded-lg text-3xl"},null,8,["iso"])])])]),_:1},8,["to"])])):(V(),se("p",To,Te(t.username),1))}}},Co={},ko={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock"},Oo=P("circle",{cx:"12",cy:"12",r:"10"},null,-1),xo=P("polyline",{points:"12 6 12 12 16 14"},null,-1),Ro=[Oo,xo];function Io(t,e){return V(),se("svg",ko,Ro)}const qo=Et(Co,[["render",Io]]),Lo={},Mo={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-calendar"},No=P("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},null,-1),$o=P("line",{x1:"16",y1:"2",x2:"16",y2:"6"},null,-1),Do=P("line",{x1:"8",y1:"2",x2:"8",y2:"6"},null,-1),jo=P("line",{x1:"3",y1:"10",x2:"21",y2:"10"},null,-1),Uo=[No,$o,Do,jo];function Ho(t,e){return V(),se("svg",Mo,Uo)}const Qo=Et(Lo,[["render",Ho]]),Ir="data:image/png;base64,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",Ko="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO2aSWsUQRSAnygILii4gDuIHsQdFwTBg39AT+pBbx4ET3pTccGT6E0FBQ/idVwm6Xo9Gj0MOvNqosTl4ALuBzVq+r2JCTEompaaREEzM8bOlHR1+oN3a2jm421V0wApKSkpKSkpKZbI5cKxiviI0oKK+DxqOYRF2e5rXn/15scZMFJALYdRS1grlJZeRfJoQNRJ1MEej8qbm0uyrKnYMRGSgtKs6omoG8TfjaBsvjwZXEf1l0M0Eb+EyI18PhwDLoOmJwxXhCkh4pPgMkiyoxEiTHiad4Gr+JrXN0qEIv7qU3kjuEhTsWNmo0QMyOBm3bkAXCMMw1FI0tNIGajlyY02mQSuoUgeN1iEiWuZTDgaXEJpQQsiQkVyHFwCiU/ZEGHC17wTXMEr8V5bIpD4C5JsABfwqLzZmoiKDHnvFWQuxB1VkOVWRVQOb3y/5UH7eIgzTcWOieYAZV0G8WUzriGxp1D9L8FHIc5k8+XJiuT6f8iKPq/EWyHOZDLhaNRyzH6/kF6lg7UQd3zNOytjz66Md7nWYDa4cCpVmj9YzQ7iu17b23EQd7DQOR+1PLRcKpnYTxJDJv9hgtLcZLlM9oMLhGE4ylz5WxNB3Ieat4ArKOJtSPLZkpBu8xcBuEKuEKxTJO12SoRft1D3dHCF7B2eY84ODZdBHCjiJdXeeeX2pykQR1oetI9XWi41UgIWyyv+fI/SwSwkud3fS+RRLE+xobnv1Hy0v9nZksBPf2+schbiilfirZEvgGtIMFsnEj8bPGHkHMQZbO1chSRv7EpgVqVPCyHuXL35cYYiaR2aCC77xc7VQ5VgnveoYw249L0FEl+IIsFMo0RI+G0T1bKv6q1XjXIYGMnPBz8vPTkqrwSXwaJsMhvjUCSg5hc1M6gkB8B1fC1LkfhlvXKomgmDp8VBcJ3cra5p1TZGsxzVzYQkZkbUTKgShyApZKNLSI6M7PAluC/Dq9UToq7nrvYMpfletbXZ7AnmR0XLjGAPuITX1jW1loSfz0STwd+wFCwCVwgrR3Z5UkvCcGQoLSfAJZBkntJ8GknO1PvgLIIMH5IK/puMi5BkcIgyfJLdkHTwLzIU8avYf4DSKMyIrEyHKhKaC7wYRhJYChaZ6WAao+kJphyc+AM5JSUlJSUlBVznB7pWUlBt50tqAAAAAElFTkSuQmCC",Bo={class:"flex items-center space-x-8"},Fo={class:"flex"},Go={class:"flex"},zo=["src"],Wo={class:"text-right"},Jo={__name:"GamePreview",props:{gameData:Object,username:String},setup(t){const e=t;let r=!0;const n=new po;St(()=>{n.loadPgn(e.gameData.pgn),console.log(e.gameData)});function s(){const i=e.gameData.white,o=e.gameData.black;if(i.username.toLowerCase()===e.username.toLowerCase()){if(i.result==="win")return Ir}else if(o.result==="win")return Ir;return Ko}return(i,o)=>(V(),se("div",{class:"w-full flex flex-row justify-between",onClick:o[2]||(o[2]=()=>{be(r)&&i.$router.push("/analyze?id="+e.gameData.uuid)})},[P("div",Bo,[P("div",Fo,[Ae(Qo,{class:"mr-2"}),Xe(" "+Te(be(n)._header.EndDate),1)]),P("div",Go,[Ae(qo,{class:"mr-2"}),Xe(" "+Te(be(n)._header.EndTime),1)]),P("img",{src:s(),class:"h-9"},null,8,zo)]),P("div",Wo,[Ae(Ao,{onMouseenter:o[0]||(o[0]=u=>br(r)?r.value=!1:r=!1),onMouseleave:o[1]||(o[1]=u=>br(r)?r.value=!0:r=!0),username:t.username.toLowerCase()===be(n)._header.White.toLowerCase()?be(n)._header.Black:be(n)._header.White},null,8,["username"])])]))}},Xo={key:0},Vo=P("progress",{class:"progress progress-primary w-48"},null,-1),Yo=[Vo],Zo={key:1},ea={class:"min-h-screen fixed top-0 flex flex-col justify-center",style:{left:"10%"}},ta={class:"menu bg-base-100 shadow-2xl p-2 rounded-box space-y-2 fixed"},ra=["onClick"],na={class:"flex flex-row space-x-4",style:{width:"80vw"}},sa=P("div",{class:"p-14"},null,-1),ia={class:"menu bg-base-100 shadow-2xl p-2 rounded-box space-y-2 h-mi w-full"},oa={key:0,class:"flex justify-center items-center flex-col h-full"},aa=P("progress",{class:"progress progress-primary w-48"},null,-1),ua=[aa],st=6,la={__name:"PlayedGamesTable",props:{username:String},setup(t){const e=t,r=Ke(void 0),n=Ke(0),s=Ke(0),i=Ke(void 0);St(()=>{wt.getPlayerMonthlyArchives(e.username).then(u=>{r.value=u.body.archives.map(p=>p.match(/\d{4}\/\d{2}$/)[0]).reverse(),o()})});function o(){i.value=void 0;const[u,p]=r.value[n.value].split("/");wt.getPlayerCompleteMonthlyArchives(e.username,u,p).then(_=>{i.value=_.body.games.filter(T=>T.pgn!==void 0).reverse()})}return(u,p)=>r.value===void 0?(V(),se("div",Xo,Yo)):(V(),se("div",Zo,[P("div",ea,[P("ul",ta,[P("li",{class:Nt({disabled:s.value<=0})},[P("a",{onClick:p[0]||(p[0]=()=>{s.value>0&&(s.value-=st)}),class:"flex justify-center"},"")],2),(V(!0),se(vr,null,wr(r.value.slice(s.value,s.value+st),(_,T)=>(V(),se("li",null,[P("a",{class:Nt({active:T+s.value===n.value}),onClick:()=>{n.value=T+s.value,o()}},Te(_),11,ra)]))),256)),P("li",{class:Nt({disabled:s.value+st>=r.value.length})},[P("a",{onClick:p[1]||(p[1]=()=>{s.value+st<r.value.length&&(s.value+=st)}),class:"flex justify-center"},"")],2)])]),P("div",na,[sa,P("div",ia,[i.value===void 0?(V(),se("div",oa,ua)):(V(!0),se(vr,{key:1},wr(i.value,_=>(V(),se("li",{key:_.uuid},[P("a",null,[Ae(Jo,{"game-data":_,username:t.username},null,8,["game-data","username"])])]))),128))])])]))}},ca={key:2},fa={class:"p-5 flex flex-col items-center space-y-8 min-h-screen"},ha=sn('<div class="text-xs ml-auto text-right flex-grow flex items-end"><a target="_blank" href="https://icons8.com/icon/57992/laurel-wreath">Laurel Wreath</a>icon by <a target="_blank" href="https://icons8.com">Icons8</a> | <a target="_blank" href="https://icons8.com/icon/KI9OU8UQdUam/sword">Sword</a>icon by <a target="_blank" href="https://icons8.com">Icons8</a></div>',1),ma={__name:"User",setup(t){let e;const r=Ke(!0),n=Ke(!1);return St(()=>{const s=(nn().query.username??"").toString(),i=o=>{wt.getPlayer(s).then(u=>{e=u.body,o=10}).catch(()=>{o>9?(e=s,n.value=!0):i(++o)}).finally(()=>{o>9&&(r.value=!1)})};i(0)}),(s,i)=>r.value?(V(),Er(wn,{key:0})):n.value?(V(),Er(_n,{key:1,username:be(e)},null,8,["username"])):(V(),se("div",ca,[Ae(Zi),P("div",fa,[P("div",null,[Ae(Mn,{data:be(e)},null,8,["data"])]),P("div",null,[Ae(la,{username:be(e).username},null,8,["username"])]),ha])]))}};export{ma as default};
